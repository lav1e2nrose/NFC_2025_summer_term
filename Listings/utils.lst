C51 COMPILER V9.60.7.0   UTILS                                                             09/07/2025 15:25:27 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE UTILS
OBJECT MODULE PLACED IN .\Objects\utils.obj
COMPILER INVOKED BY: E:\Keil\C51\BIN\C51.EXE utils.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\utils.
                    -lst) TABS(2) OBJECT(.\Objects\utils.obj)

line level    source

   1          #include "utils.h"
   2          #include <reg52.h>
   3          
   4          /**
   5           * @brief 毫秒延时函数
   6           * @param ms 延时的毫秒数
   7           */
   8          void delay_ms(u16 ms)
   9          {
  10   1          u16 i, j;
  11   1          for (i = 0; i < ms; i++)
  12   1              for (j = 0; j < 110; j++);  // 根据11.0592MHz晶振调整
  13   1      }
  14          
  15          /**
  16           * @brief 微秒延时函数
  17           * @param us 延时的微秒数
  18           * 注意：对于微秒级延时，此函数只是近似值
  19           */
  20          void delay_us(u16 us)
  21          {
  22   1          u8 i;
  23   1          for (i = 0; i < us; i++)
  24   1          {
  25   2              _nop_();  // 单周期空指令
*** WARNING C206 IN LINE 25 OF utils.c: '_nop_': missing function-prototype
*** ERROR C264 IN LINE 25 OF utils.c: intrinsic '_nop_': declaration/activation error
  26   2          }
  27   1      }

C51 COMPILATION COMPLETE.  1 WARNING(S),  1 ERROR(S)
